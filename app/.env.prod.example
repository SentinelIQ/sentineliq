# ============================================
# SentinelIQ Production Environment
# ============================================
# Copy to .env.prod and fill with real values
# docker-compose -f docker-compose.prod.yml --env-file .env.prod up

# ============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================
DB_USER=sentineliq
DB_PASSWORD=changeme_with_strong_password
DB_NAME=sentineliq

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_PASSWORD=changeme_with_strong_password
REDIS_DB=0

# ============================================
# MinIO S3 Storage Configuration
# ============================================
MINIO_ROOT_USER=sentineliq
MINIO_ROOT_PASSWORD=changeme_with_strong_password

S3_ENDPOINT=https://s3.sentineliq.com  # or your MinIO domain
S3_ACCESS_KEY=sentineliq
S3_SECRET_KEY=changeme_with_strong_password
S3_BUCKET_DEV=sentineliq-dev
S3_BUCKET_PROD=sentineliq-prod
S3_REGION=us-east-1
S3_PUBLIC_URL=https://cdn.sentineliq.com

# ============================================
# Docker Image Tags
# ============================================
# Use 'main', 'develop', 'sha-xxx', or specific version tag
SERVER_TAG=main
CLIENT_TAG=main

# ============================================
# NODE ENVIRONMENT & APP CONFIG
# ============================================
NODE_ENV=production
APP_ORIGIN=https://app.sentineliq.com
ADMIN_EMAILS=admin@sentineliq.com,devops@sentineliq.com

# ============================================
# AUTH & JWT CONFIGURATION
# ============================================
# Generate with: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_here_min_32_chars
SESSION_TIMEOUT_MINUTES=30

# ============================================
# APP URLs (for Wasp)
# ============================================
WASP_WEB_CLIENT_URL=https://app.sentineliq.com
WASP_SERVER_URL=https://api.sentineliq.com

# ============================================
# PAYMENT PROCESSING - STRIPE
# ============================================
STRIPE_API_KEY=sk_live_your_stripe_live_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_live_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_CUSTOMER_PORTAL_URL=https://billing.stripe.com/p/login/...
STRIPE_WORKSPACE_STARTUP_PLAN_ID=price_xxx
STRIPE_WORKSPACE_ENTERPRISE_PLAN_ID=price_xxx

# ============================================
# EMAIL CONFIGURATION
# ============================================
# --- SendGrid (Recommended) ---
SENDGRID_API_KEY=SG.your_sendgrid_live_api_key
SENDGRID_FROM_EMAIL=noreply@sentineliq.com

# --- SMTP Alternative ---
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# ============================================
# SOCIAL AUTHENTICATION - Google OAuth
# ============================================
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_ANALYTICS_CLIENT_EMAIL=email@example.gserviceaccount.com
GOOGLE_ANALYTICS_PRIVATE_KEY=base64_encoded_private_key
GOOGLE_ANALYTICS_PROPERTY_ID=123456789

# ============================================
# ANALYTICS - Plausible
# ============================================
PLAUSIBLE_API_KEY=your_plausible_live_api_key
PLAUSIBLE_SITE_ID=sentineliq.com.br
PLAUSIBLE_BASE_URL=https://plausible.io
ANALYTICS_ENABLED=true
REACT_APP_PLAUSIBLE_ANALYTICS_ID=sentineliq.com.br

# ============================================
# ANALYTICS - Google Analytics
# ============================================
REACT_APP_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# ============================================
# ============================================
# Backend (Node.js) Sentry DSN
SENTRY_DSN_SERVER=https://key@sentry.io/project-id

# Frontend (React) Sentry DSN
REACT_APP_SENTRY_DSN=https://key@sentry.io/project-id
REACT_APP_SENTRY_ENVIRONMENT=production

# Python (Sentinel Engine) Sentry DSN
SENTRY_DSN_PYTHON=https://key@sentry.io/project-id

# ============================================
# WEB PUSH NOTIFICATIONS - VAPID Keys
# ============================================
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=BJAeQSA4ytGU05zOjJvymesk2HPB2d8oBTr10sflssJQI3og-VM-64X9hOiFaSP7UzTCxbRZATyUnoU75h1n1q0
VAPID_PRIVATE_KEY=Hi_beLKvnV0Ntk7hWbzAZQ756R4Xet9_-qLSGsr1wCE
VAPID_SUBJECT=mailto:admin@sentineliq.com

# ============================================
# FRONTEND URLs & Configuration
# ============================================
REACT_APP_API_BASE_URL=https://api.sentineliq.com
REACT_APP_WASP_SERVER_URL=https://api.sentineliq.com
REACT_APP_STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_live_key
REACT_APP_GOOGLE_AUTH_URL=https://accounts.google.com/o/oauth2/v2/auth

# ============================================
# ELK STACK (Elasticsearch, Logstash, Kibana)
# ============================================
ELK_ENABLED=true
LOGSTASH_HOST=logstash
LOGSTASH_PORT=5000
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
KIBANA_URL=http://localhost:5601
ELK_LOG_RETENTION_DAYS=90

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info

# ============================================
# STATUS PAGE (Uptime Kuma)
# ============================================
STATUS_PAGE_URL=https://status.sentineliq.com
STATUS_PAGE_PORT=3004
STATUS_PAGE_ENABLED=true

# ============================================
# STORAGE LIMITS (per workspace plan in MB)
# ============================================
STORAGE_LIMIT_FREE_MB=100
STORAGE_LIMIT_STARTUP_MB=1000
STORAGE_LIMIT_ENTERPRISE_MB=-1

# ============================================
# FILE UPLOAD CONSTRAINTS
# ============================================
MAX_FILE_SIZE_MB=50

# ============================================
# SENTINEL ENGINE (Python Crawler) Configuration
# ============================================
SENTINEL_QUEUE_NAME=sentinel_tasks
SENTINEL_POLL_INTERVAL=5
SENTINEL_CRAWLER_TIMEOUT=30000
SENTINEL_MAX_CONCURRENT_CRAWLS=3
SENTINEL_PLAYWRIGHT_HEADLESS=true
SENTINEL_SCREENSHOT_DIR=/app/screenshots
SENTINEL_TESSERACT_LANG=eng+por
SENTINEL_MIN_CONFIDENCE=0.7
SENTINEL_LOG_RETENTION_DAYS=30
