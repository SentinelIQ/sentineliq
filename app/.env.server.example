# ============================================
# ENVIRONMENT VARIABLES - PRODUCTION REQUIRED
# ============================================
# Copy this file to .env.server and fill in your actual values

# ============================================
# AUTHENTICATION
# ============================================
# JWT secret for authentication tokens (generate a strong random string)
JWT_SECRET=your-jwt-secret-here

# Admin emails (comma-separated, at least one required)
# Users with these emails will be granted admin access on signup
ADMIN_EMAILS=admin@example.com,admin2@example.com

# ============================================
# EMAIL CONFIGURATION
# ============================================
# Email address used as sender for all outbound emails
SENDER_EMAIL=noreply@yourdomain.com
SENDER_NAME=YourApp

# Email provider (Mailgun, SendGrid, etc.)
# Configure your preferred email service credentials
EMAIL_PROVIDER_API_KEY=your-email-provider-api-key

# ============================================
# STRIPE PAYMENT CONFIGURATION
# ============================================
# Stripe secret key (sk_test_... for testing, sk_live_... for production)
STRIPE_KEY=sk_test_your_stripe_key_here

# Stripe webhook signing secret (whsec_...)
# Get this from Stripe Dashboard -> Webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe product/price IDs for subscription plans
STRIPE_HOBBY_SUBSCRIPTION_PRICE_ID=price_hobby_plan_id
STRIPE_PRO_SUBSCRIPTION_PRICE_ID=price_pro_plan_id

# ============================================
# ANALYTICS (Optional but recommended)
# ============================================
# Google Analytics
GOOGLE_ANALYTICS_MEASUREMENT_ID=G-XXXXXXXXXX
REACT_APP_GOOGLE_ANALYTICS_MEASUREMENT_ID=G-XXXXXXXXXX

# Plausible Analytics (alternative to Google Analytics)
PLAUSIBLE_SITE_ID=yourdomain.com
PLAUSIBLE_API_KEY=your-plausible-api-key

# ============================================
# DATABASE
# ============================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/yourdb

# ============================================
# WASP CONFIGURATION
# ============================================
# The URL where your app is deployed
WASP_WEB_CLIENT_URL=http://localhost:3000
WASP_SERVER_URL=http://localhost:3001

# Production URLs (update these for deployment)
# WASP_WEB_CLIENT_URL=https://yourdomain.com
# WASP_SERVER_URL=https://api.yourdomain.com

# ============================================
# REDIS (Required for production)
# ============================================
# Redis URL for distributed rate limiting and caching
# Required for multi-instance deployments
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# S3 STORAGE (MinIO/AWS S3)
# ============================================
# MinIO/S3 endpoint (for MinIO use http://localhost:9000)
S3_ENDPOINT=http://localhost:9000

# MinIO/S3 access credentials
S3_ACCESS_KEY=sentineliq
S3_SECRET_KEY=sentineliq123456

# S3 bucket name for file uploads
S3_BUCKET_NAME=sentineliq-uploads

# S3 region (use 'us-east-1' for MinIO)
S3_REGION=us-east-1

# Public URL for accessing uploaded files (optional, defaults to S3_ENDPOINT)
# For production with CloudFront/CDN: https://cdn.yourdomain.com
S3_PUBLIC_URL=http://localhost:9000

# ============================================
# MONITORING & LOGGING (Optional)
# ============================================
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Sentry DSN for error tracking (highly recommended for production)
# Backend (Node.js) Sentry DSN
SENTRY_DSN_SERVER=https://84dda40d8669fb2ca147addf48b187d8@o4509301234204672.ingest.de.sentry.io/4510378472177744

# Frontend (React) Sentry DSN
REACT_APP_SENTRY_DSN_CLIENT=https://ee87769a7805b8e1b30be5949f25d9b3@o4509301234204672.ingest.de.sentry.io/4510378439409744

# ============================================
# FEATURE FLAGS (Optional)
# ============================================
# Enable/disable cookie consent banner
REACT_APP_ENABLE_COOKIE_CONSENT=true

# ============================================
# NOTES
# ============================================
# Required variables (must be set):
# - JWT_SECRET
# - ADMIN_EMAILS
# - SENDER_EMAIL
# - STRIPE_KEY
# - STRIPE_WEBHOOK_SECRET
# - DATABASE_URL
#
# Optional but recommended:
# - GOOGLE_ANALYTICS_MEASUREMENT_ID or PLAUSIBLE_SITE_ID
# - REDIS_URL (for production with multiple instances)
#
# For development, you can use test/demo values
# For production, ensure all secrets are strong and secure
